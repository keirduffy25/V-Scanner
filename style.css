:root{
  --hud-bg: rgba(0,12,16,0.6);
  --hud-br: 10px;
  --neon: #00ffd5;
  --neon-dim: rgba(0,255,213,0.35);
  --text: #eaffff;
  --warn: #ffd166;
  --err:  #ff6666;
  --ok:   #9dffb3;
}

html,body,#app{
  margin:0; padding:0; height:100%; width:100%;
  background:#000;
  overflow:hidden;
  touch-action:none;
  -webkit-user-select:none; user-select:none;
}

#app{ position:relative; }

#cam{
  position:absolute; inset:0;
  width:100%; height:100%;
  object-fit:cover; /* important: fill and keep aspect */
  transform: translateZ(0);
}

#overlay{
  position:absolute; inset:0;
  width:100%; height:100%;
  pointer-events:none;
}

/* HUD */
.card{
  position:absolute; top:12px; left:12px;
  max-width:min(46vw, 380px);
  background:var(--hud-bg);
  color:var(--text);
  border:1px solid var(--neon-dim);
  border-radius:var(--hud-br);
  padding:10px 12px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  font-size:12px; line-height:1.25;
  box-shadow:0 0 16px rgba(0,255,213,0.15);
  backdrop-filter: blur(4px);
}
.card .row{ display:flex; align-items:center; gap:8px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
.dot{
  display:inline-block; width:8px; height:8px; border-radius:50%;
  box-shadow:0 0 10px currentColor;
}
.dot.ok{ color:var(--neon); }
.dot.warn{ color:var(--warn); }
.dot.err{ color:var(--err); }

/* Button */
.pill{
  position:absolute; left:50%; bottom:18px; transform:translateX(-50%);
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  font-size:16px; color:var(--text);
  background:rgba(0,0,0,0.55);
  border:1px solid var(--neon-dim); border-radius:999px;
  padding:10px 18px;
  box-shadow:0 0 16px rgba(0,255,213,0.12);
  backdrop-filter: blur(6px);
}
.pill:active{ transform:translateX(-50%) scale(0.98); }

/* Boxes & labels drawn to canvas; label style for fallback DOM badges */
.badge{
  position:absolute; transform: translate(-50%, -120%);
  background: rgba(0,0,0,0.7);
  color: var(--text);
  border: 1px solid var(--neon-dim);
  padding: 2px 6px;
  border-radius:6px;
  font: 12px ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  pointer-events:none;
}

/* ---- Reactive scanning beam ---- */
.scan-beam{
  position:absolute; inset:0;
  pointer-events:none; z-index:2;
  background: linear-gradient(
    to bottom,
    rgba(0,255,213,0) 0%,
    rgba(0,255,213,0.12) 50%,
    rgba(0,255,213,0) 100%
  );
  mix-blend-mode: screen;
  opacity: 0.25;
  animation: scanSweep 6s linear infinite;
  transition: animation-duration .45s ease, opacity .45s ease;
}
@keyframes scanSweep{
  0%   { transform: translateY(-100%); opacity:0; }
  10%  { opacity:.3; }
  50%  { opacity:.4; }
  90%  { opacity:.3; }
  100% { transform: translateY(100%); opacity:0; }
}
.scan-beam.fast{ animation-duration: 2s; opacity: .55; }
.scan-beam.slow{ animation-duration: 7s; opacity: .25; }
